<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/lufei.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://birdYoRo.github.io').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="JSP课程设计[TOC] 开发环境 Windows 10 家庭中文版 eclipse MySql 5.0.16 Tomcat v8.5  cmd命令准备 &amp;&amp;连接命令–执行多条命令 跳转到桌面： 1cd User&amp;&amp;cd 14117&amp;&amp;cd Desktop  跳转到root： 1cd\  查看txt文件的内容： 1type file.txt  重命名">
<meta property="og:type" content="article">
<meta property="og:title" content="JSP课程设计">
<meta property="og:url" content="https://birdyoro.github.io/2019/12/26/JSP%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/index.html">
<meta property="og:site_name" content="YoRo99のblog">
<meta property="og:description" content="JSP课程设计[TOC] 开发环境 Windows 10 家庭中文版 eclipse MySql 5.0.16 Tomcat v8.5  cmd命令准备 &amp;&amp;连接命令–执行多条命令 跳转到桌面： 1cd User&amp;&amp;cd 14117&amp;&amp;cd Desktop  跳转到root： 1cd\  查看txt文件的内容： 1type file.txt  重命名">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-12-26T06:40:01.000Z">
<meta property="article:modified_time" content="2019-12-26T06:41:17.893Z">
<meta property="article:author" content="YoRo">
<meta property="article:tag" content="-jsp -OJ">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://birdyoro.github.io/2019/12/26/JSP%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>JSP课程设计 | YoRo99のblog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">YoRo99のblog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">一点浩然气，千里快哉风</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">3</span></a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://birdyoro.github.io/2019/12/26/JSP%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="YoRo">
      <meta itemprop="description" content="思绪像风，停留在此">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YoRo99のblog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JSP课程设计
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2019-12-26 14:40:01 / 修改时间：14:41:17" itemprop="dateCreated datePublished" datetime="2019-12-26T14:40:01+08:00">2019-12-26</time>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>10k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>9 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="JSP课程设计"><a href="#JSP课程设计" class="headerlink" title="JSP课程设计"></a>JSP课程设计</h1><p>[TOC]</p>
<h2 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h2><ul>
<li>Windows 10 家庭中文版</li>
<li>eclipse</li>
<li>MySql 5.0.16</li>
<li>Tomcat v8.5</li>
</ul>
<h2 id="cmd命令准备"><a href="#cmd命令准备" class="headerlink" title="cmd命令准备"></a>cmd命令准备</h2><ul>
<li><p><strong>&amp;&amp;</strong>连接命令–执行多条命令</p>
<p>跳转到桌面：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> User&amp;&amp;<span class="built_in">cd</span> 14117&amp;&amp;<span class="built_in">cd</span> Desktop</span><br></pre></td></tr></table></figure>

<p>跳转到root：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd\</span><br></pre></td></tr></table></figure>

<p>查看txt文件的内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type file.txt</span><br></pre></td></tr></table></figure>

<p>重命名文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rename file1.txt file2.cpp</span><br></pre></td></tr></table></figure>

<p><strong>需要现先配置系统变量：引入mingw的bin和include包</strong></p>
<p>c++编译命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ exp.cpp</span><br></pre></td></tr></table></figure>

<p>c编译命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc exp.cpp</span><br></pre></td></tr></table></figure>

<p>编译后会生成<strong>a.exe</strong>文件；</p>
<p>先进行编译，再<strong>重定向</strong>输入输出流到txt文件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ exp.cpp&amp;&amp;a.exe &lt;in.txt &gt;out.txt</span><br></pre></td></tr></table></figure>

<p><em>注意 <code>gcc exp.c</code>，gcc编译c语言后缀一定要为 *</em>.c**</p>
<p>输出编译信息：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ exp.cpp 2&gt; cinfo.txt</span><br></pre></td></tr></table></figure>

<p><strong>2&gt;</strong> 要连着写！如果编译没有错误，会生成cinfo.txt文件，但是其内容为空，如果编译出错，则会输出到cinfo.txt文件中；</p>
<p>完整命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">g++ exp.cpp 2&gt; cinfo.txt &amp;&amp; a.exe &lt;in.txt out.txt</span><br><span class="line">//注意操作过后剩下的为cpp文件，判断文件是否存在时要用.cpp后缀</span><br></pre></td></tr></table></figure>

</li>
</ul>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">del <span class="built_in">file</span>.txt</span><br></pre></td></tr></table></figure>

<p>清除txt文件的内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd .&gt; file.txt</span><br></pre></td></tr></table></figure>

<p>强制停止程序</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">taskkill /im a.exe /f</span><br></pre></td></tr></table></figure>



<h2 id="JAVA文件操作"><a href="#JAVA文件操作" class="headerlink" title="JAVA文件操作"></a>JAVA文件操作</h2><ul>
<li><p>文件or文件夹的创建</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">File file = <span class="keyword">new</span> File(<span class="string">"G:\\Jeff.txt"</span>);</span><br><span class="line">File dir = <span class="keyword">new</span> File(<span class="string">"G:\\Jeff"</span>);</span><br><span class="line"><span class="comment">// 判断文件是否存在</span></span><br><span class="line"><span class="keyword">if</span> (file.exists()) &#123;</span><br><span class="line">	System.out.println(<span class="string">"文件已存在"</span>);</span><br><span class="line">    file.delete();  <span class="comment">//删除文件</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        file.createNewFile();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 判断文件夹是否存在</span></span><br><span class="line"><span class="keyword">if</span> (dir.isDirectory()) &#123;</span><br><span class="line">	System.out.println(<span class="string">"文件夹已存在"</span>);</span><br><span class="line">    dir.delete();  <span class="comment">//删除文件夹</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	dir.mkdir();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>写入文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123; </span><br><span class="line">      FileWriter myWriter = <span class="keyword">new</span> FileWriter(<span class="string">"filename.txt"</span>);</span><br><span class="line">      myWriter.write(<span class="string">"content"</span>);<span class="comment">//写入内容</span></span><br><span class="line">      myWriter.close();</span><br><span class="line">      System.out.println(<span class="string">"成功写入文件"</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      System.out.println(<span class="string">"出错了"</span>);</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>读文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">	File myObj = <span class="keyword">new</span> File(<span class="string">"filename.txt"</span>);</span><br><span class="line">	Scanner myReader = <span class="keyword">new</span> Scanner(myObj); </span><br><span class="line">	<span class="keyword">while</span> (myReader.hasNextLine()) &#123;</span><br><span class="line">	String data = myReader.nextLine();</span><br><span class="line">	System.out.println(data);</span><br><span class="line">	&#125;</span><br><span class="line">	myReader.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">	System.out.println(<span class="string">"出错了"</span>);</span><br><span class="line">	e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取文件信息</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">File myObj = <span class="keyword">new</span> File(<span class="string">"filename.txt"</span>);</span><br><span class="line"><span class="keyword">if</span> (myObj.exists()) &#123;</span><br><span class="line">	System.out.println(<span class="string">"文件名: "</span> + myObj.getName()); </span><br><span class="line">	System.out.println(<span class="string">"绝对路径: "</span> + myObj.getAbsolutePath()); </span><br><span class="line">	System.out.println(<span class="string">"可写: "</span> + myObj.canWrite()); </span><br><span class="line">	System.out.println(<span class="string">"可读: "</span> + myObj.canRead()); </span><br><span class="line">	System.out.println(<span class="string">"文件大小(字节): "</span> + myObj.length());</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	System.out.println(<span class="string">"文件不存在"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="JAVA编译运行程序"><a href="#JAVA编译运行程序" class="headerlink" title="JAVA编译运行程序"></a>JAVA编译运行程序</h2><h3 id="获取时间，计算程序运行时间"><a href="#获取时间，计算程序运行时间" class="headerlink" title="获取时间，计算程序运行时间"></a>获取时间，计算程序运行时间</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> stime=System.currentTimeMillis();</span><br><span class="line"><span class="keyword">long</span> etime=System.currentTimeMillis();</span><br><span class="line"><span class="keyword">long</span> time=stime-etime;</span><br></pre></td></tr></table></figure>

<p>我将所有的运行程序的操作放在action包中的<code>Judge.class</code></p>
<h3 id="java有两种启动线程执行cmd命令的方法"><a href="#java有两种启动线程执行cmd命令的方法" class="headerlink" title="java有两种启动线程执行cmd命令的方法"></a>java有两种启动线程执行cmd命令的方法</h3><p>使用<code>Runtime</code>类来执行命令</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String cmd=<span class="string">"/c cd/&amp;&amp;cd JAVAworkspace&amp;&amp;cd OCD_OJ&amp;&amp;cd proNeed&amp;&amp;"</span>+...;</span><br><span class="line">Process p=Runtime.getRuntime().exec(cmd);</span><br></pre></td></tr></table></figure>

<p>使用<code>ProcessBuilder</code>类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String cmd=<span class="string">"/c cd/&amp;&amp;cd JAVAworkspace&amp;&amp;cd OCD_OJ&amp;&amp;cd proNeed&amp;&amp;"</span>+...;</span><br><span class="line">ProcessBuilder pb=<span class="keyword">new</span> ProcessBuilder(<span class="string">"cmd"</span>,command);</span><br><span class="line">Process process = pb.start();</span><br></pre></td></tr></table></figure>

<p>在cmd字符串中</p>
<blockquote>
<p>cmd /c dir 是执行完dir命令后关闭命令窗口。</p>
</blockquote>
<blockquote>
<p>cmd /k dir 是执行完dir命令后不关闭命令窗口。</p>
</blockquote>
<p>在执行线程后，需要对线程的数据缓冲区进行清理，此时需要用Scanner来读取信息清空缓冲区；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Scanner in=<span class="keyword">new</span> Scanner(process.getInputStream());  </span><br><span class="line"><span class="keyword">while</span>(in.hasNextLine()) &#123;</span><br><span class="line">	System.out.println(in.nextLine());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>若没有Scanner来清空缓冲区那么<code>p.waitfor()</code>时，就会卡死程序；</p>
<p><code>Process</code>类有两个成员方法，<code>.waitFor()</code>和<code>.exitValue()</code>，当程序正常结束时.waitFor()和.exitValue()的返回值都为0，以此判断程序是否正常运行；</p>
<p>因此就可以在程序执行时监视程序，当程序的执行时间超过某值时，及时终止，来处理<strong>Running Error</strong>或<strong>Time Limit Exceeded</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">p=Runtime.getRuntime().exec(command);</span><br><span class="line">Thread.sleep(<span class="number">2</span>*maxTime); <span class="comment">//因为进程在sleep的时间若执行结束所以，p.waitFor()时不会时程序卡死</span></span><br><span class="line">p.destroy();  <span class="comment">//终止线程</span></span><br><span class="line">System.out.println(<span class="string">"RE result is:"</span>+p.waitFor()+<span class="string">" "</span>+p.exitValue());</span><br><span class="line"><span class="keyword">if</span>(p.waitFor()==<span class="number">1</span>||p.exitValue()==<span class="number">1</span>)  <span class="comment">//意外终止</span></span><br><span class="line">&#123;</span><br><span class="line">	String midcmd=<span class="string">"cmd "</span>+cmd+<span class="string">"cd USers&amp;&amp;cd "</span>+userName+<span class="string">"&amp;&amp;cd "</span>+themeNo+<span class="string">"&amp;&amp;taskkill /im a.exe /f"</span>;   <span class="comment">//不能杀死java！！！！！！！！1	</span></span><br><span class="line">	p=Runtime.getRuntime().exec(midcmd);  <span class="comment">//关闭程序！！！</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意：Process 的.destroy()只能终止java线程，不能停止后台cmd启动的程序，所以当出现错误运行现象时需要及时taskkill进程；</strong></p>
<p>在程序运行时要监视其运行时间，来判断超时和RE；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> ktime1=System.currentTimeMillis();</span><br><span class="line"><span class="keyword">long</span> ktime2;</span><br><span class="line"><span class="keyword">while</span>(in.hasNextLine()) &#123;</span><br><span class="line">	String str=in.nextLine();</span><br><span class="line">	ktime2=System.currentTimeMillis();    <span class="comment">//实时处理！！！</span></span><br><span class="line">	<span class="keyword">if</span>(ktime2-ktime1&gt;maxTime+<span class="number">300</span>)    <span class="comment">//监视时间</span></span><br><span class="line">	&#123;</span><br><span class="line">			tt1=<span class="keyword">true</span>;</span><br><span class="line">			process.destroy();</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(tt1==<span class="keyword">false</span>) &#123;    <span class="comment">//超时</span></span><br><span class="line">	Thread.sleep(maxTime);</span><br><span class="line">	process.destroy();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(process.waitFor()==<span class="number">1</span>||process.exitValue()==<span class="number">1</span>) &#123;   <span class="comment">//意外终止</span></span><br><span class="line">		String midcmd=<span class="string">"cmd "</span>+cmd+<span class="string">"cd USers&amp;&amp;cd "</span>+userName+<span class="string">"&amp;&amp;cd "</span>+themeNo+<span class="string">"&amp;&amp;taskkill /im a.exe /f"</span>;   <span class="comment">//不能杀死java</span></span><br><span class="line">		Process p=Runtime.getRuntime().exec(midcmd);  <span class="comment">//关闭程序！！！</span></span><br><span class="line">		System.out.println(<span class="string">"is TLE"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当然都结束后不要忘记删除中间文件！！！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteFile</span><span class="params">()</span> <span class="keyword">throws</span> IOException, InterruptedException<span class="comment">//删除文件</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">	<span class="comment">//	File file</span></span><br><span class="line">		File file=<span class="keyword">new</span> File(proPath+<span class="string">"\\"</span>+themeNo+<span class="string">"\\"</span>+mfile);</span><br><span class="line">		<span class="keyword">if</span>(file.exists()) &#123;</span><br><span class="line">			file.delete();</span><br><span class="line">			System.out.println(proPath+<span class="string">"\\"</span>+themeNo+<span class="string">"\\"</span>+mfile);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		file=<span class="keyword">new</span> File(proPath+<span class="string">"\\"</span>+themeNo+<span class="string">"\\info.txt"</span>);</span><br><span class="line">		<span class="keyword">if</span>(file.exists()) &#123;</span><br><span class="line">			file.delete();</span><br><span class="line">			System.out.println(proPath+<span class="string">"\\"</span>+themeNo+<span class="string">"\\info.txt"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		file=<span class="keyword">new</span> File(proPath+<span class="string">"\\"</span>+themeNo+<span class="string">"\\out.txt"</span>);</span><br><span class="line">		<span class="keyword">if</span>(file.exists()) &#123;</span><br><span class="line">			file.delete();</span><br><span class="line">			System.out.println(proPath+<span class="string">"\\"</span>+themeNo+<span class="string">"\\out.txt"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		file=<span class="keyword">new</span> File(proPath+<span class="string">"\\"</span>+themeNo+<span class="string">"\\mid_in.txt"</span>);</span><br><span class="line">		<span class="keyword">if</span>(file.exists()) &#123;</span><br><span class="line">			file.delete();</span><br><span class="line">			System.out.println(proPath+<span class="string">"\\"</span>+themeNo+<span class="string">"\\mid_in.txt"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		Process p=Runtime.getRuntime().exec(<span class="string">"cmd "</span>+cmd+<span class="string">"cd Users&amp;&amp;cd "</span>+userName+<span class="string">"&amp;&amp;cd "</span>+themeNo+<span class="string">"&amp;&amp;rename "</span>+cfilename+<span class="string">" Main.txt"</span>);</span><br><span class="line">		<span class="keyword">if</span>(p.waitFor()==<span class="number">0</span>&amp;&amp;p.exitValue()==<span class="number">0</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">"rename yes"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>



<h2 id="EL表达式"><a href="#EL表达式" class="headerlink" title="EL表达式"></a>EL表达式</h2><p>EL表达式直接拼成链接</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a	href="$&#123;pageContext.request.contextPath&#125;/questionlist/id$&#123;question.getId()&#125;.jsp"&gt;$&#123;question.getTname()&#125;&lt;/a&gt;</span><br></pre></td></tr></table></figure>

<p>字符串判断是否相等</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:<span class="keyword">if</span> test=<span class="string">"$&#123;sessionScope.user.getGender() eq 'male'&#125;"</span>&gt;</span><br><span class="line">	男</span><br><span class="line">&lt;/c:if&gt;</span><br></pre></td></tr></table></figure>

<p>判断是否有session</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:<span class="keyword">if</span> test=<span class="string">"$&#123;! empty sessionScope.user&#125;"</span>&gt;</span><br><span class="line">	&lt;a href="$&#123;pageContext.request.contextPath&#125;/myAccount.jsp"&gt;个人信息&lt;/a&gt;</span><br><span class="line">&lt;/c:if&gt;</span><br></pre></td></tr></table></figure>

<p>页面传来的属性用param接收</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//localhost:8080/OCD_OJ/questionlist/id0.jsp?id=0</span></span><br><span class="line">&lt;h1 class="font1"&gt;$&#123;param.id &#125;&lt;/h1&gt;</span><br></pre></td></tr></table></figure>

<p>获得时间：</p>
<p>先引入</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%@taglib</span> <span class="attr">prefix</span>=<span class="string">"fmt"</span> <span class="attr">uri</span>=<span class="string">"http://java.sun.com/jsp/jstl/fmt"</span> %&gt;</span></span><br></pre></td></tr></table></figure>

<p>再在需要添加时间的地方插入</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">jsp:useBean</span> <span class="attr">id</span>=<span class="string">"now"</span> <span class="attr">class</span>=<span class="string">"java.util.Date"</span> <span class="attr">scope</span>=<span class="string">"page"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">fmt:formatDate</span> <span class="attr">value</span>=<span class="string">"$&#123;now&#125;"</span> <span class="attr">pattern</span>=<span class="string">"yyyy年MM月dd日"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>调用查找语句，可以在session中set集合中查找</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">c:if</span> <span class="attr">test</span>=<span class="string">"$&#123;fn:contains(theString, 'runoob')&#125;"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">p</span>&gt;</span>找到 runoob<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c:if</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">taglib</span> <span class="attr">uri</span>=<span class="string">"http://java.sun.com/jsp/jstl/functions"</span> <span class="attr">prefix</span>=<span class="string">"fn"</span>%&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">c:set</span> <span class="attr">var</span>=<span class="string">"tttid"</span> <span class="attr">value</span>=<span class="string">"$&#123; question.getId() &#125;"</span>/&gt;</span>							</span><br><span class="line"><span class="tag">&lt;<span class="name">c:if</span> <span class="attr">test</span>=<span class="string">"$&#123;fn:contains(sessionScope.qset,tttid )&#125;"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">font</span> <span class="attr">style</span>=<span class="string">"color:#3CB371;"</span>&gt;</span></span><br><span class="line">		$&#123;question.getId() &#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c:if</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h2><p>跳转回原网页，跳转后显示原来网页的url</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">request.getRequestDispatcher(<span class="string">"/login.jsp"</span>).forward(request, response);</span><br></pre></td></tr></table></figure>

<p>重定向到其他页面，跳转后显示新网页的url</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.sendRedirect(request.getContextPath() + <span class="string">"/questionlist.jsp"</span>);</span><br></pre></td></tr></table></figure>

<p>设置session</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">request.getSession().setAttribute(<span class="string">"map"</span>, map);</span><br><span class="line">request.getSession().setAttribute(<span class="string">"qlist"</span>, qlist);</span><br></pre></td></tr></table></figure>

<p>删除session中的一个属性</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">session.removeAttribute(name);</span><br><span class="line">request.getSession().removeAttribute(<span class="string">"onlinerun"</span>);</span><br></pre></td></tr></table></figure>

<p><strong>页面Textarea返回的内容为空时，值为””，而不是null</strong></p>
<h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><p>用按钮跳转到其他servlet或网页</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">torun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    	<span class="comment">//if(confirm("you sure?"))  跳出提示信息</span></span><br><span class="line">    	<span class="built_in">window</span>.location=<span class="string">"OnlineRunServlet"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;input type="button" class="bu" onclick="torun()" value="Run"/</span>&gt;</span><br></pre></td></tr></table></figure>

<p>在<textarea>中使用tab,<script>一定要在<textarea>之后</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;textarea name=<span class="string">"anscontent"</span> rows=<span class="string">"30"</span> cols=<span class="string">"70"</span> id=<span class="string">"myInput"</span> &gt;<span class="xml"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span></span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myInput = <span class="built_in">document</span>.getElementById(<span class="string">"myInput"</span>);</span><br><span class="line">str = <span class="string">"    "</span>;</span><br><span class="line"><span class="keyword">if</span>(myInput.addEventListener ) &#123;</span><br><span class="line">    myInput.addEventListener(<span class="string">'keydown'</span>,<span class="keyword">this</span>.keyHandler,<span class="literal">false</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(myInput.attachEvent ) &#123;</span><br><span class="line">    myInput.attachEvent(<span class="string">'onkeydown'</span>,<span class="keyword">this</span>.keyHandler); <span class="comment">/* damn IE hack */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">keyHandler</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> TABKEY = <span class="number">9</span>;</span><br><span class="line">    <span class="keyword">if</span>(e.keyCode == TABKEY) &#123;</span><br><span class="line">        insertText(myInput,str);</span><br><span class="line">        <span class="keyword">if</span>(e.preventDefault) &#123;</span><br><span class="line">            e.preventDefault();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">insertText</span>(<span class="params">obj,str</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.selection) &#123;</span><br><span class="line">        <span class="keyword">var</span> sel = <span class="built_in">document</span>.selection.createRange();</span><br><span class="line">        sel.text = str;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> obj.selectionStart === <span class="string">'number'</span> &amp;&amp; <span class="keyword">typeof</span> obj.selectionEnd === <span class="string">'number'</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> startPos = obj.selectionStart,</span><br><span class="line">            endPos = obj.selectionEnd,</span><br><span class="line">            cursorPos = startPos,</span><br><span class="line">            tmpStr = obj.value;</span><br><span class="line">        obj.value = tmpStr.substring(<span class="number">0</span>, startPos) + str + tmpStr.substring(endPos, tmpStr.length);</span><br><span class="line">        cursorPos += str.length;</span><br><span class="line">        obj.selectionStart = obj.selectionEnd = cursorPos;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        obj.value += str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="MySQL"><a href="#MySQL" class="headerlink" title="MySQL"></a>MySQL</h2><p>增加外键</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE ainfo ADD FOREIGN KEY ainfo_foreignKey(username) REFERENCES users(username);</span><br></pre></td></tr></table></figure>

<h2 id="连接数据库-C3P0"><a href="#连接数据库-C3P0" class="headerlink" title="连接数据库 -C3P0"></a>连接数据库 -C3P0</h2><h3 id="Dao层"><a href="#Dao层" class="headerlink" title="Dao层"></a>Dao层</h3><blockquote>
<p>Dao的作用是封装对数据库的访问：增删改查，不涉及业务逻辑，只是达到<strong>按某个条件获得指定数据</strong>的要求；</p>
</blockquote>
<blockquote>
<p>DAO模式是业务逻辑层和持久存储层之间的抽象层,例如业务对象通过数据访问对象访问RDBMS(datasource)。这个抽象层可以灵活的介入并简化了应用程序代码。理想情况下，当改变数据源，比如更换数据库厂商或者类型，只需要改变数据访问对象并对业务对象的影响最小。</p>
</blockquote>
<p>使用<code>QueryRunner</code>类来执行SQL语句</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> DB;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.QueryRunner;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.handlers.BeanHandler;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.handlers.BeanListHandler;</span><br><span class="line"><span class="keyword">import</span> object.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">userDao</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> User <span class="title">findOne</span><span class="params">(String username)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">		QueryRunner runner = <span class="keyword">new</span> QueryRunner(userUtils.getDataSource());</span><br><span class="line">		String sql=<span class="string">"select * from users where username=?"</span>;</span><br><span class="line">		User user=(User)runner.query(sql, new BeanHandler(User.class),new Object[] &#123;username&#125;);</span><br><span class="line">		<span class="keyword">return</span> user;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">insert</span><span class="params">(User user)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">		QueryRunner runner = <span class="keyword">new</span> QueryRunner(userUtils.getDataSource());</span><br><span class="line">		String sql=<span class="string">"insert into users(username,password,nickname,gender,school,email,tnum,qset) values (?,?,?,?,?,?,?,?)"</span>;</span><br><span class="line">		<span class="keyword">int</span> num=runner.update(sql,<span class="keyword">new</span> Object[] &#123;user.getUsername(),user.getPassword(),user.getNickname(),user.getGender(),user.getSchool(),user.getEmail(),user.getTnum(),user.getQset()&#125;);</span><br><span class="line">		<span class="keyword">if</span>(num&gt;<span class="number">0</span>)</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">update</span><span class="params">(User user)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">		QueryRunner runner = <span class="keyword">new</span> QueryRunner(userUtils.getDataSource());</span><br><span class="line">		String sql=<span class="string">"update users set tnum=?,qset=? where username=?"</span>;</span><br><span class="line">		<span class="keyword">int</span> num=runner.update(sql, <span class="keyword">new</span> Object[] &#123;user.getTnum(),user.getQset(),user.getUsername()&#125;);</span><br><span class="line">		<span class="keyword">if</span>(num&gt;<span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="xml配置-在src中加入c3p0-config-xml"><a href="#xml配置-在src中加入c3p0-config-xml" class="headerlink" title="xml配置 在src中加入c3p0-config,xml"></a>xml配置 在src中加入c3p0-config,xml</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">c3p0-config</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">default-config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span>&gt;</span>jdbc:mysql://localhost:3308/cdooj?<span class="symbol">&amp;amp;</span>useSSL=false<span class="symbol">&amp;amp;</span>serverTimezone=UTC<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span>&gt;</span>root<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"initialPoolSize"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxPoolSize"</span>&gt;</span>15<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"checkoutTimeout"</span>&gt;</span>3000<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">default-config</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">named-config</span> <span class="attr">name</span>=<span class="string">"otherc3p0"</span>&gt;</span> </span><br><span class="line">  <span class="tag">&lt;/<span class="name">named-config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c3p0-config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">userDao userdao= <span class="keyword">new</span> userDao();</span><br><span class="line">User user=userdao.findOne(username);</span><br></pre></td></tr></table></figure>


    </div>

    
    
    
	<div>
	  
       <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div>
    
</div>

      
	</div>
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>YoRo
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://birdyoro.github.io/2019/12/26/JSP%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/" title="JSP课程设计">https://birdyoro.github.io/2019/12/26/JSP课程设计/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/jsp-OJ/" rel="tag"> <i class="fa fa-tag"></i> # -jsp -OJ</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/12/26/hello-blog/" rel="prev" title="Hello blog">
      <i class="fa fa-chevron-left"></i> Hello blog
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#JSP课程设计"><span class="nav-number">1.</span> <span class="nav-text">JSP课程设计</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#开发环境"><span class="nav-number">1.1.</span> <span class="nav-text">开发环境</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#cmd命令准备"><span class="nav-number">1.2.</span> <span class="nav-text">cmd命令准备</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JAVA文件操作"><span class="nav-number">1.3.</span> <span class="nav-text">JAVA文件操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JAVA编译运行程序"><span class="nav-number">1.4.</span> <span class="nav-text">JAVA编译运行程序</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#获取时间，计算程序运行时间"><span class="nav-number">1.4.1.</span> <span class="nav-text">获取时间，计算程序运行时间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#java有两种启动线程执行cmd命令的方法"><span class="nav-number">1.4.2.</span> <span class="nav-text">java有两种启动线程执行cmd命令的方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#EL表达式"><span class="nav-number">1.5.</span> <span class="nav-text">EL表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSP"><span class="nav-number">1.6.</span> <span class="nav-text">JSP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HTML"><span class="nav-number">1.7.</span> <span class="nav-text">HTML</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="YoRo"
      src="/images/author.jpg">
  <p class="site-author-name" itemprop="name">YoRo</p>
  <div class="site-description" itemprop="description">思绪像风，停留在此</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/birdYoRo" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;birdYoRo" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:1411715797@qq.com" title="E-Mail → mailto:1411715797@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/yw2018" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;yw2018" rel="noopener" target="_blank"><i class="fa fa-fw fa-crosshairs"></i>CSDN</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">YoRo</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">11k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">10 分钟</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,0' opacity='0.5' zIndex='-1' count='150' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
