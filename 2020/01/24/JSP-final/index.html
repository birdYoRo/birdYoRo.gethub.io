<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/lufei.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://birdYoRo.github.io').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="我只摘录了我觉得在开发过程中有用或可能有用的内容，不是教程性质的博客，只是一个重点摘录考试考了里面的75分左右，嘻嘻嘻">
<meta property="og:type" content="article">
<meta property="og:title" content="Java Web期末总结">
<meta property="og:url" content="https://birdyoro.github.io/2020/01/24/JSP-final/index.html">
<meta property="og:site_name" content="YoRo99のblog">
<meta property="og:description" content="我只摘录了我觉得在开发过程中有用或可能有用的内容，不是教程性质的博客，只是一个重点摘录考试考了里面的75分左右，嘻嘻嘻">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tZGdyYXBoLTEzMDExNjI1MDguY29zLmFwLXNoYW5naGFpLm15cWNsb3VkLmNvbS8yMDIwMDEyNDEyNDExNi5wbmc?x-oss-process=image/format,png">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tZGdyYXBoLTEzMDExNjI1MDguY29zLmFwLXNoYW5naGFpLm15cWNsb3VkLmNvbS8yMDIwMDEyNDEyNDczOS5wbmc?x-oss-process=image/format,png">
<meta property="article:published_time" content="2020-01-24T04:58:35.000Z">
<meta property="article:modified_time" content="2020-01-24T05:31:38.974Z">
<meta property="article:author" content="YoRo">
<meta property="article:tag" content="JSP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tZGdyYXBoLTEzMDExNjI1MDguY29zLmFwLXNoYW5naGFpLm15cWNsb3VkLmNvbS8yMDIwMDEyNDEyNDExNi5wbmc?x-oss-process=image/format,png">

<link rel="canonical" href="https://birdyoro.github.io/2020/01/24/JSP-final/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Java Web期末总结 | YoRo99のblog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">YoRo99のblog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">思绪像风，停留在此</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">11</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类<span class="badge">9</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">21</span></a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://birdyoro.github.io/2020/01/24/JSP-final/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/author.jpg">
      <meta itemprop="name" content="YoRo">
      <meta itemprop="description" content="一点浩然气，千里快哉风">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YoRo99のblog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Java Web期末总结
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-01-24 12:58:35 / 修改时间：13:31:38" itemprop="dateCreated datePublished" datetime="2020-01-24T12:58:35+08:00">2020-01-24</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/" itemprop="url" rel="index">
                    <span itemprop="name">大学课程</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>15k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>14 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><del>我只摘录了我觉得在开发过程中有用或可能有用的内容，不是教程性质的博客，只是一个重点摘录</del><br><del>考试考了里面的75分左右，嘻嘻嘻</del><a id="more"></a></p>
<h1 id="HTTP协议的传输方式"><a href="#HTTP协议的传输方式" class="headerlink" title="HTTP协议的传输方式"></a>HTTP协议的传输方式</h1><p>（居然会考这个，TAT，我只知道POST和GET）<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tZGdyYXBoLTEzMDExNjI1MDguY29zLmFwLXNoYW5naGFpLm15cWNsb3VkLmNvbS8yMDIwMDEyNDEyNDExNi5wbmc?x-oss-process=image/format,png" alt=""></p>
<h1 id="请求和响应"><a href="#请求和响应" class="headerlink" title="请求和响应"></a>请求和响应</h1><blockquote>
<p>Servlet最主要的作用就是处理客户端请求，并向客户端做出响应。针对Servlet的每次请求，Web服务器在调用service()方法前，都会创建两个对象：HttpServletRequest和HttpServletResponse。其中HttpServletRequest用于封装HTTP请求消息，简称request对象；HttpServletResponse用于封装HTTP响应消息，简称response对象。<br>Web服务器只会创建一个实例对象，然而每次请求都会重新创建一个request对象和response对象。</p>
</blockquote>
<p><strong>404状态码表示找不到客户端请求的资源</strong></p>
<h2 id="Response对象的方法"><a href="#Response对象的方法" class="headerlink" title="Response对象的方法"></a>Response对象的方法</h2><h3 id="getOutputStream-amp-getWriter-方法"><a href="#getOutputStream-amp-getWriter-方法" class="headerlink" title="getOutputStream() &amp; getWriter()方法"></a>getOutputStream() &amp; getWriter()方法</h3><p>getOutputStream返回OutputStream对象以字节流（二进制）输出<br>getWriter返回PrintWriter以字符输出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String data=“itcast”;</span><br><span class="line">OutputStream out=response.getOutputStream();</span><br><span class="line">out.write(data.getBytes());</span><br><span class="line">PrintWriter print=response.getWriter();</span><br><span class="line">print.write(data);</span><br></pre></td></tr></table></figure>

<p><strong>getOutputStream和getWrite不能同时使用，否则会发生IllegalStateException异常</strong></p>
<h3 id="setHeader用来设置响应头字段"><a href="#setHeader用来设置响应头字段" class="headerlink" title="setHeader用来设置响应头字段"></a>setHeader用来设置响应头字段</h3><h4 id="解决中文乱码"><a href="#解决中文乱码" class="headerlink" title="解决中文乱码"></a>解决中文乱码</h4><p>response对象的字符输出采用<strong>ISO-8859-1</strong>编码<br>在doGet或doPost或Service最前端加</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">response.setCharacterEncoding(“utf-<span class="number">8</span>”);</span><br><span class="line">response.setHeader(“Content-Type”,”text/html;charset=utf-<span class="number">8</span>”);</span><br></pre></td></tr></table></figure>

<p>or</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.setContentType(“text/html;charset=utf-<span class="number">8</span>”);</span><br></pre></td></tr></table></figure>

<h4 id="刷新跳转"><a href="#刷新跳转" class="headerlink" title="刷新跳转"></a>刷新跳转</h4><p>2秒后刷新跳转到其他页面</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.setHeader(“Refresh”,”<span class="number">2</span>;URL=http:<span class="comment">//www.baidu.com”);</span></span><br></pre></td></tr></table></figure>

<p>每隔3秒定时刷新当前页面</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">response.setHeader(“Refresh”,”<span class="number">3</span>”);</span><br><span class="line">response.getWriter.println(<span class="keyword">new</span> java.util.Date());</span><br></pre></td></tr></table></figure>

<h3 id="请求重定向"><a href="#请求重定向" class="headerlink" title="请求重定向"></a>请求重定向</h3><blockquote>
<p>请求重定向指Web服务器接收到客户端请求后，可能由于某些条件限制，不能访问当前请求URL所指向的Web资源，而是指定了一个新的资源路径，让客户端重新发送请求<br>会生成302响应码</p>
</blockquote>
<p><strong>需要使用绝对路径，路径前端加/</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.sendRedirect(“/chapter04/welcome.html”);</span><br></pre></td></tr></table></figure>

<p>路径前加 <strong>/</strong></p>
<h2 id="Request对象的方法"><a href="#Request对象的方法" class="headerlink" title="Request对象的方法"></a>Request对象的方法</h2><h3 id="利用Referer请求头防止“盗链”（p130）"><a href="#利用Referer请求头防止“盗链”（p130）" class="headerlink" title="利用Referer请求头防止“盗链”（p130）"></a>利用Referer请求头防止“盗链”（p130）</h3><p>DownManagerServlet</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">PrintWriter out=response.getWriter();</span><br><span class="line">String referer=request.getHeader(“referer”);</span><br><span class="line">String sitePart=“http:<span class="comment">//”+request.getServerName();</span></span><br><span class="line"><span class="keyword">if</span>(referer!=<span class="keyword">null</span>&amp;&amp;referer.startsWith(sitePart))&#123;<span class="comment">//请求头是不是自身！！！</span></span><br><span class="line">	out.println(“dealing download...”);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">	RequestDispatcher rd=request.getRequestDispatcher(“/download.html”);</span><br><span class="line">	rd.forward(request,response);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在WebContent根目录下编写download.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">“/chapter04/DownManagerServlet”</span>&gt;</span>download<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>浏览器中直接输入DownManagerServlet的URL，第一次访问时不会有Referer请求头，再点击download会显示结果。<br><strong>链接</strong>才会产生请求头，就是说输入URL访问不会产生Referer！</p>
<h3 id="获取请求参数"><a href="#获取请求参数" class="headerlink" title="获取请求参数"></a>获取请求参数</h3><p><strong>当网页中表单（form）提交时</strong><br><code>String getParameter(String name)</code>获取指定名称的参数值<br><code>String[] getParameterValues(String name)</code>获取指定名称的参数列表（比如多选按钮传来的值）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//html部分</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">“text”</span> <span class="attr">name</span>=<span class="string">“username”/</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">“checkbox”</span> <span class="attr">name</span>=<span class="string">“hobby”</span> <span class="attr">value</span>=<span class="string">“sing”</span>&gt;</span>唱歌</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">“checkbox”</span> <span class="attr">name</span>=<span class="string">“hobby”</span> <span class="attr">value</span>=<span class="string">“dance”</span>&gt;</span>跳舞</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">“checkbox”</span> <span class="attr">name</span>=<span class="string">“hobby”</span> <span class="attr">value</span>=<span class="string">“rap”</span>&gt;</span>Rap</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">“checkbox”</span> <span class="attr">name</span>=<span class="string">“hobby”</span> <span class="attr">value</span>=<span class="string">“basketball”</span>&gt;</span>篮球</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//servlet部分</span></span><br><span class="line">String name=request.getParameter(“username”);</span><br><span class="line">String[] hobbys=request.getParameterValues(“hobby”);</span><br></pre></td></tr></table></figure>

<p>如果获得的属性值不为String或者基本类型，需要进行数据转化，例如对一个User对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User user=(User)request.getParameter(“user”);</span><br></pre></td></tr></table></figure>

<h3 id="解决请求中文乱码"><a href="#解决请求中文乱码" class="headerlink" title="解决请求中文乱码"></a>解决请求中文乱码</h3><p><strong>只对POST有效对，GET无效</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">request.setCharacterEncoding(“utf-<span class="number">8</span>”);</span><br></pre></td></tr></table></figure>

<p><strong>GET提交表单时</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String name=request.getParameter(“username”);</span><br><span class="line">name=<span class="keyword">new</span> String(name.getBytes(“iso8859-<span class="number">1</span>”),”utf-<span class="number">8</span>”);</span><br></pre></td></tr></table></figure>

<h3 id="public-void-setAttribute-java-lang-String-name-java-lang-Object-o"><a href="#public-void-setAttribute-java-lang-String-name-java-lang-Object-o" class="headerlink" title="public void setAttribute(java.lang.String name,java.lang.Object o);"></a>public void setAttribute(java.lang.String name,java.lang.Object o);</h3><p>可以在请求转发时添加属性</p>
<h3 id="请求转发"><a href="#请求转发" class="headerlink" title="请求转发"></a>请求转发</h3><p><strong>RequestDispatcher getRequestDispatcher(String path)</strong> 参数path必须以“/”开头，</p>
<h4 id="RequestDispatcher接口的方法"><a href="#RequestDispatcher接口的方法" class="headerlink" title="RequestDispatcher接口的方法"></a>RequestDispatcher接口的方法</h4><p>1.forward(ServletRequest request,ServletResponse response) :对请求做初步处理后，转发给其他资源响应，其他资源处理完后直接将结果返回客户端；<br>2.include(ServletRequest request,ServletResponse response) :客户端端响应结果包含当前Servlet的，也包含其他Web资源的；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">request.getRequestDispatcher(“/ResultServlet”).forward(request,response);</span><br><span class="line">request.getRequestDispatcher(“/ResultServlet”).include(request,response);</span><br></pre></td></tr></table></figure>

<p><strong>请求转发时共享request资源</strong>，转发过程中，客户端URL<strong>不变</strong>！</p>
<h3 id="请求转发与重定向"><a href="#请求转发与重定向" class="headerlink" title="请求转发与重定向"></a>请求转发与重定向</h3><blockquote>
<p>1、forward：访问Servlet业务处理逻辑，然后forward到jsp显示处理结果，可以在中间setAttribute来增加属性，URL不变<br>2、redirect：提交表单，处理成功后跳转到另一个jsp，防止表单重复提交，URL改变！<br>3、forward是在服务器内部进行，所以绝对路径的根是本工程，而redirect是在客户端进行的访问，绝对路径要为“/当前Web程序根名称/资源名”</p>
</blockquote>
<h1 id="会话"><a href="#会话" class="headerlink" title="会话"></a>会话</h1><blockquote>
<p>在Web开发中，服务器跟踪用户信息的技术称为会话技术，在Servlet中，提供了两个用于保存会话数据的对象分别是Cookie和Session</p>
</blockquote>
<h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><p>set-Cookie头字段<br><code>Set-Cookie: user=itcast; Path=/;</code><br>itcast表示Cookie的值，Path表示Cookie的属性，Cookie必须以键值对的形式存在，其属性可以有多个，但这些属性之间必须用<strong>分号</strong> 和 <strong>空格</strong>分隔；<br><strong>当用户第一次访问服务器时，服务器会在响应消息中增加Set-Cookie头字段；</strong><br><code>public Cookie(java.lang.String name,java.lang.String value)</code><br>Cookie一旦创建，它的名称就不能更改，Cookie的值可以为任何值，允许被修改；</p>
<h3 id="Cookie的常用方法"><a href="#Cookie的常用方法" class="headerlink" title="Cookie的常用方法"></a>Cookie的常用方法</h3><ul>
<li><code>String getName()</code>返回Cookie的名称</li>
<li><code>void setValue(String newValue)</code>为Cookie设置一个新的值</li>
<li><code>String getValue()</code>返回Cookie的值</li>
<li><code>void setMaxAge(int expiry)&amp;getMaxAge</code>设置Cookie在浏览器上保持的秒数，为正数时，将Cookie的信息保存在本地硬盘上；为负数时，浏览器将Cookie的值保存在缓存中，当浏览器关闭时，删除Cookie信息；为0时，立即删除。默认为-1；</li>
<li><code>void setPath(String uri)</code>设置Cookie只对当前访问路径所属的目录及其子目录有效，设为“/”时，对所有目录下的访问路径都有效；</li>
<li><code>void setDomain(String pattern)&amp;String getDomain()</code>属性值为主机名，必须以‘ . ’开头</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Cookie[] cookies=request.getCookies();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;cookies!=<span class="keyword">null</span>&amp;&amp;i&lt;cookies.length;i++)&#123;</span><br><span class="line">	<span class="keyword">if</span>(“lastAccess”.equals(cookies[i].getName()))&#123;</span><br><span class="line">		lastAccessTime=cookies[i].getValue();</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//添加Cookie</span></span><br><span class="line">String currentTime=<span class="keyword">new</span> SimpleDateFormat(“yyyy-MM-dd hh:mm:ss”).format(<span class="keyword">new</span> Date());</span><br><span class="line">Cookie cookie=<span class="keyword">new</span> Cookie(“lastAccess”,currentTime);</span><br><span class="line">response.addCookie(cookie);</span><br></pre></td></tr></table></figure>

<h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><blockquote>
<p>Cookie技术可以将用户信息保存在各自<strong>浏览器</strong>中，Session是一种将会话数据保存到<strong>服务器端</strong>的技术<br>Session是借助Cookie来传递ID属性的！</p>
</blockquote>
<p><code>public HttpSession getSession(boolean create)</code><br><code>public HttpSession getSession()</code><br>第一个方法如果参数为true，当不存在HttpSession对象时会创建一个新的HttpSession对象，否则返回null；第二的方法和true时相同<br>在web.xml中设置服务器的默认会话超时间隔，以<strong>分钟</strong>为单位，如果是0或一个负数则会话永不超时</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>30<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="HttpSession方法"><a href="#HttpSession方法" class="headerlink" title="HttpSession方法"></a>HttpSession方法</h3><ul>
<li><p><code>void invalidate()</code>强制使Session对象无效</p>
</li>
<li><p><code>void setAttribute(String name,Object value)</code>用于将一个对象与一个名称关联后存储到当前的HttpSession对象中</p>
</li>
<li><p><code>String getAttribute()</code> 用于从当前的HttpSesion对象中返回指定名称的属性对象</p>
</li>
<li><p><code>void removeAttribute(String name)</code>用于从当前HttpSession对象中删除指定名称的属性</p>
<p><strong>购物车p152</strong>！<br>在登陆后要建立用户信息session，在获取session对象时需要<strong>强制类型转换！</strong>，例如：</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User  user=(User)request.getSession().getAttribute(“user”);</span><br></pre></td></tr></table></figure>

<p>  <strong>session的信息在整个Web中共享</strong></p>
<h1 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h1><blockquote>
<p>JSP全名是Java Server Pages，它是建立在Servlet范围之上的动态网页开发技术。在JSP文件中，HTML代码与Java代码共同存在，其中，HTML代码用来实现网页中静态内容的显示，Java代码用来实现网页中动态内容的显示。扩展名为.jsp。</p>
</blockquote>
<p>JSP技术所开发的Web应用程序是基于Java的，特征：</p>
<ul>
<li>跨平台</li>
<li>业务代码相分离：JSP引擎（Tomcat）负责解析JSP标签和脚步程序，并将执行结果以HTML页面的形式返回到浏览器</li>
<li>组件重用：适用JavaBean编写业务组件</li>
<li>预编译：用户第1次通过浏览器访问JSP页面代码进行编译，并且仅执行一次编译</li>
</ul>
<h2 id="JSP运行原理"><a href="#JSP运行原理" class="headerlink" title="JSP运行原理"></a>JSP运行原理</h2><p>JSP的工作模式是<strong>请求/响应模式</strong>，在一个JSP文件第一次被请求时，JSP引擎会把该文件转化为一个Servlet<br>JSP的运行过程p172</p>
<h2 id="JSP基本语法"><a href="#JSP基本语法" class="headerlink" title="JSP基本语法"></a>JSP基本语法</h2><p><code>&lt;% %&gt;</code>正常Java语句<br><code>&lt;%! %&gt;</code>定义的变量或方法<br><code>&lt;%= %&gt;</code>将程序数据输出到客户端，“&lt;%”和“=”之间不能有空格，JSP表达式中变量或表达式后面不能有分号<br><code>&lt;%— —%&gt;</code>注释</p>
<h2 id="JSP内置对象"><a href="#JSP内置对象" class="headerlink" title="JSP内置对象"></a>JSP内置对象</h2><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9tZGdyYXBoLTEzMDExNjI1MDguY29zLmFwLXNoYW5naGFpLm15cWNsb3VkLmNvbS8yMDIwMDEyNDEyNDczOS5wbmc?x-oss-process=image/format,png" alt=""></p>
<h2 id="JSP指令"><a href="#JSP指令" class="headerlink" title="JSP指令"></a>JSP指令</h2><h3 id="page指令"><a href="#page指令" class="headerlink" title="page指令"></a>page指令</h3><p>常用属性：language（默认Java），session，isErrorPage，contentType，pageEncoding,import(唯一可以声明多次的page指令，中间用<strong>英文逗号</strong>隔开)<br>除了import属性外，其他属性<strong>只能出现一次</strong>，否则编译失败<br>page指令属性名<strong>区分大小写</strong>！<br>page指令对整个页面有效，与<strong>书写位置无关</strong>！<br><code>&lt;%@ page 属性名=属性值...%&gt;</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page lauguage=“java” contentType=“text/html;charset=UTF-<span class="number">8</span>” pageEnoding=“UTF-<span class="number">8</span>”%&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=“java.awt.*”&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=“java.util.*”,”java.awt.*”&gt;</span><br></pre></td></tr></table></figure>

<h3 id="include指令"><a href="#include指令" class="headerlink" title="include指令"></a>include指令</h3><p><code>&lt;%@ include file=“”%&gt;</code>include只有一个file属性，一般不以“/”开头，使用相对路径（相对于文件的）<br>在制作所用页面共用的部分时，用include加入；</p>
<h3 id="out对象"><a href="#out对象" class="headerlink" title="out对象"></a>out对象</h3><p>out隐式对象写入数据相对于将数据插入到JspWriter对象的缓冲区中，只用调用ServletResponse.getWriter()，缓冲区的数据才可以进入<strong>Servlet引擎提供的缓冲区</strong>，否则整个页面结束才会写入Servlet引擎提供的缓冲区<br>或者<code>&lt;%@ page buffer=“0kb”%&gt;</code>,对象内容充满out缓冲区，也会写入Servlet引擎提供的缓冲区</p>
<h3 id="lt-jsp-forward-page-“relativeURL”-gt"><a href="#lt-jsp-forward-page-“relativeURL”-gt" class="headerlink" title="&lt;jsp:forward page=“relativeURL”&gt;"></a>&lt;jsp:forward page=“relativeURL”&gt;</h3><p>用于请求转发，浏览器地址不会变</p>
<h1 id="JavaBean"><a href="#JavaBean" class="headerlink" title="JavaBean"></a>JavaBean</h1><blockquote>
<p>JavaBean是Java开发语言中一个可以重复使用的软件组件，它本质是一个Java类，编码规范：</p>
</blockquote>
<ul>
<li>（1）它必须具有一个公共的、无参的构造方法，可以是编译器自动产生的默认构造方法</li>
<li>（2）它提供公共的setter方法和getter方法，让外部程序设置和获取JavaBean的属性</li>
</ul>
<p>在开发JavaBean时每个属性都定义为<strong>读写属性</strong>，如果属性的值为boolean，那么命名应为is/get，而不是set/get</p>
<h1 id="EL表达式"><a href="#EL表达式" class="headerlink" title="EL表达式"></a>EL表达式</h1><p>EL是expression Lauguage的缩写，它是一种简单的数据访问语言；<br>当Servlet中<code>request.setAttribute(“username”,”yw”)</code><br>JSP中用<code>${username}</code>读取数据<br>EL中定义标识符规范</p>
<ul>
<li>不能以数字开头</li>
<li>不能是EL中的保留字，如and，or，gt</li>
<li>不能是EL的隐式对象，如pageContext</li>
<li>不能包含单引号（‘）、双引号（“）、减号（-）和正斜杠（/）等特殊字符<br><code>${student.name}</code>等价于<code>${student[“name”]}</code><br>.和[]混合使用<code>${users[0].username}</code>，访问集合或数组中第一个元素的username属性<br>lt <code>&lt;</code>; gt <code>&gt;</code> ;le <code>&lt;=</code>;ge <code>&gt;=</code> 如果运算符后面是数字，在运算符和数字之间<strong>至少有一个空格</strong>，例 <code>${1lt  2}</code><br>除法<code>/或div</code> ，例    <code>${10 div 2}</code>，结果为2.5！<br><code>empty</code>运算符判断是否为null，<code>${empty var}</code><br><strong>sessionScope</strong> 获得session的属性<br><code>param.num</code> 获得？后面的属性或者表单提交的属性；<br><code>paramValues.num[n]</code>获得多选项的值</li>
</ul>
<h1 id="JSTL"><a href="#JSTL" class="headerlink" title="JSTL"></a>JSTL</h1><p>将<strong>jstl.jar</strong> 和 <strong>standard.jar</strong>复制到lib目录下<br>在使用c前缀到标签时，需要加入<br><code>&lt;%@ taglib uri=“http://java.sun.com/jsp/jstl/core” prefix=“c”%&gt;</code><br>输出，value为null是输出default，escapeXml为true时会将内容原样输出，<strong>默认为true</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">c:out</span> <span class="attr">value</span>=<span class="string">“value”</span> [<span class="attr">escapeXml</span>=<span class="string">“true/false”]</span>&gt;</span></span><br><span class="line">	default</span><br><span class="line"><span class="tag">&lt;/<span class="name">c:out</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="设置变量"><a href="#设置变量" class="headerlink" title="设置变量"></a>设置变量</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">c:set</span> <span class="attr">value</span>=<span class="string">“value”</span> <span class="attr">var</span>=<span class="string">“var”/</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">c:if</span> <span class="attr">test</span>=<span class="string">“test”</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c:if</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="多重选择"><a href="#多重选择" class="headerlink" title="多重选择"></a>多重选择</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">c:choose</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">c:when</span> <span class="attr">test</span>=<span class="string">“testcondition”</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">c:when</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">c:otherwise</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">c:otherwise</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c:choose</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">c:forEach</span> <span class="attr">var</span>=<span class="string">“varname”</span> <span class="attr">items</span>=<span class="string">“collection”</span> <span class="attr">begin</span>=<span class="string">“begin”</span> <span class="attr">end</span>=<span class="string">“end”</span> <span class="attr">step</span>=<span class="string">“step”</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c:forEach</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="Filter-过滤器"><a href="#Filter-过滤器" class="headerlink" title="Filter 过滤器"></a>Filter 过滤器</h1><blockquote>
<p>Filter被称为过滤器，其基本功能就是对Servlet容器调用Servlet的过程进行拦截，从而在Servlet进行响应处理前后实现一些特殊功能</p>
</blockquote>
<h2 id="Filter接口的方法"><a href="#Filter接口的方法" class="headerlink" title="Filter接口的方法"></a>Filter接口的方法</h2><p>1、init() 在Web应用程序加载时调用，只调用一次<br>2、doFilter() 只要有客户端请求就会被调用，Filter所有工作集中在doFilter方法中<br>3、destroy() 在Web应用程序卸载时调用，只调用一次</p>
<h2 id="xml配置"><a href="#xml配置" class="headerlink" title="xml配置"></a>xml配置</h2><ul>
<li><filter>根元素用于注册一个Filter</li>
<li><filter-name>子元素用于设置Filter名称</li>
<li><filter-class>子元素用于设置Filter的完整名称</li>
<li><filter-mapping>根元素用于设置一个过滤器所拦截的资源</li>
<li><filtr-name>子元素必须与<filter>中的<filter-name>相同</li>
<li><url-pattern>子元素用于匹配用户请求的URL，例如“/MyServlet”，可以使用通配符“ * ”，例如“ *.do”,适用于所有以“.do”结尾的Servlet路径</li>
<li>REQUEST直接访问页面才会调用过滤器；INCLUDE通过RequestDispatcher的include方法访问，才调用过滤器； FORWARD通过RequestDispatcher的forward方法访问，才调用过滤器；通过<code>&lt;dispatcher&gt;</code>设置<br>除法<code>/或div</code> ，例    <code>${10 div 2}</code>，结果为2.5！<br><code>empty</code>运算符判断是否为null，<code>${empty var}</code></li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>MyFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>cm.itcast.MyFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>MyFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/MyServlet<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span>  //拦截所有请求</span><br><span class="line">	<span class="tag">&lt;<span class="name">dispatcher</span>&gt;</span>FORWARD<span class="tag">&lt;/<span class="name">dispatcher</span>&gt;</span> //拦截forward的转发</span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="FIlter链"><a href="#FIlter链" class="headerlink" title="FIlter链"></a>FIlter链</h3><blockquote>
<p>一个Web应用程序可以注册多个Filter程序，如果多个Filter程序都对同一个URL进行拦截，那么这些Filter就会组成一个Filter链（也叫过滤器链）</p>
</blockquote>
<p>过滤器doFilter方法定义</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request,ServletResponse response,FilterChain chain)</span></span>&#123;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">chain.doFilter(request,response);<span class="comment">//放行！否则不会跳往目标url！</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>在xml中<filter-mappping>位置靠前的Filter先过滤</strong>，过滤器的结果和include转发一样，每个过滤器的信息都会显示<br>全站统一编码p251</p>
<h1 id="Listener监听器"><a href="#Listener监听器" class="headerlink" title="Listener监听器"></a>Listener监听器</h1><blockquote>
<p>Servlet事件监听器就是一个实现了特点接口的Java程序，专门用于监听Web应用程序中ServletContext、HttpSession和ServletRequest等域对象的创建和销毁过程，监听这些域对象属性的修改以及感知绑定到HttpSesison域中某个对象的状态。</p>
</blockquote>
<h1 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h1><blockquote>
<p>JDBC的全称是Java数据库连接（Java Database Connectivity），它是一套用于执行SQL语句的Java API。应用程序可通过这套API连接到关系型数据库，并使用SQL语句来完成对于数据库中数据的增删改查操作。</p>
</blockquote>
<p>是应用程序和数据库的桥梁，JDBC访问数据库时，通过不同的数据库驱动与不同的数据库进行连接，随后执行相应操作。<br>JDBC API位于<strong>java sql</strong> 包中；</p>
<h2 id="数据库操作过程："><a href="#数据库操作过程：" class="headerlink" title="数据库操作过程："></a>数据库操作过程：</h2><p>1.加载驱动Driver<br>2.获得Connection连接对象，只有获得连接对象后才能访问数据库<br>3.通过Connection获得Statement接口对象<br>4.Statememt接口调用相应方法，执行SQL语句,<strong>excuteUpdate()返回int型，表示受该SQL语句影响的记录条数</strong>；<br>5.查询语句返回Result接口对象，访问数据；<br>6.<strong>最后释放资源</strong></p>
<p><strong>注意其中sql语句里的字符串要被‘ ’包围！</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Statement stmt = <span class="keyword">null</span>;</span><br><span class="line">ResultSet res=<span class="keyword">null</span>;</span><br><span class="line">Connection conn=<span class="keyword">null</span>;</span><br></pre></td></tr></table></figure>

<h3 id="建立数据库连接及释放连接"><a href="#建立数据库连接及释放连接" class="headerlink" title="建立数据库连接及释放连接"></a>建立数据库连接及释放连接</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JDBCUtils.java</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException,ClassNotFoundException</span>&#123; </span><br><span class="line">	Class.forName(“com.mysql.jdbc.Driver”);</span><br><span class="line">	String url = “jdbc:mysql:<span class="comment">//localhost:3306/jdbc”;//jdbc是数据库名</span></span><br><span class="line">	String username = “root”; <span class="comment">//可以自定义</span></span><br><span class="line">	String password = “root”; <span class="comment">//可以自定义</span></span><br><span class="line">	conn = DriverManager.getConnection(url,username,passsword);</span><br><span class="line">	<span class="keyword">return</span> conn;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">release</span><span class="params">(Statamemt stmt, Connection conn)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(stmt != <span class="keyword">null</span>)&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			stmt.close();</span><br><span class="line">		&#125;<span class="comment">//...</span></span><br><span class="line">		stmt=<span class="keyword">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(conn != <span class="keyword">null</span>)&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			conn.close();</span><br><span class="line">		&#125;<span class="comment">//...</span></span><br><span class="line">		conn=<span class="keyword">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">release</span><span class="params">(ResultSet rs, Statamemt stmt, Connection conn)</span></span>&#123;</span><br><span class="line"> 	<span class="keyword">if</span>(rs != <span class="keyword">null</span>)&#123;</span><br><span class="line">		<span class="keyword">try</span>&#123;</span><br><span class="line">			rs.close();</span><br><span class="line">		&#125;<span class="comment">//...</span></span><br><span class="line">		rs = <span class="keyword">null</span>;	</span><br><span class="line">	&#125;</span><br><span class="line">	release(stmt,conn);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="增"><a href="#增" class="headerlink" title="增"></a>增</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">conn = JDBCUtils.getConnection();</span><br><span class="line">stmt = conn.createStatememt();</span><br><span class="line">String sql = “<span class="function">INSERT INTO <span class="title">users</span><span class="params">(id,name)</span> <span class="title">VALUES</span><span class="params">( ”+user.getId()</span>+”,’”+user.<span class="title">getName</span><span class="params">()</span>+”’)”</span>;  <span class="comment">//字符串要用‘’</span></span><br><span class="line"><span class="keyword">int</span> num = stmt.executeUpdate(sql);</span><br><span class="line"><span class="keyword">if</span>(num&gt;<span class="number">0</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br></pre></td></tr></table></figure>

<h3 id="查"><a href="#查" class="headerlink" title="查"></a>查</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">conn = JDBCUtils.getConnection();</span><br><span class="line">stmt = conn.createStatememt();</span><br><span class="line">String sql = “SELECT * FROM users”;</span><br><span class="line"><span class="comment">// sql = “SELECT * FROM users WHERE id=”+id; //查找指定值；</span></span><br><span class="line">rs = stmt.executeQuery(sql);</span><br><span class="line"><span class="keyword">while</span>(rs.next())&#123;</span><br><span class="line">	<span class="keyword">int</span> id = rs.getInt(“id”);                                                                                                                                                                                                                                                                                        	String name = rs.getString(“name”);</span><br><span class="line">	String password = rs.getString(“password”);</span><br><span class="line">	<span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="删"><a href="#删" class="headerlink" title="删"></a>删</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">conn = JDBCUtils.getConnection();</span><br><span class="line">stmt = conn.createStatememt();</span><br><span class="line">String sql = “DELECT FROM users WHERE id=“ + id;</span><br><span class="line"><span class="keyword">int</span> num = stmt.executeUpdate(sql);</span><br><span class="line"><span class="keyword">if</span>(num &gt; <span class="number">0</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br></pre></td></tr></table></figure>

<h3 id="改"><a href="#改" class="headerlink" title="改"></a>改</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">conn = JDBCUtils.getConnection();</span><br><span class="line">stmt = conn.createStatememt();</span><br><span class="line">String sql = “UPDATE users set name=‘yangwei ‘ WHERE id=”+id;</span><br><span class="line"><span class="keyword">int</span> num = stmt.executeUpdate(sql);</span><br><span class="line"><span class="keyword">if</span>(num&gt;<span class="number">0</span>)</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Java获得时间，与MySQL-的DATE对应"><a href="#Java获得时间，与MySQL-的DATE对应" class="headerlink" title="Java获得时间，与MySQL 的DATE对应"></a>Java获得时间，与MySQL 的DATE对应</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(“yyyy-MM-dd”);</span><br></pre></td></tr></table></figure>

<h1 id="数据库连接池"><a href="#数据库连接池" class="headerlink" title="数据库连接池"></a>数据库连接池</h1><blockquote>
<p>在JDBC编程中，每次创建和断开Connection对象都会消耗时间和IO资源，因为在Java程序与数据库之间建立连接时，数据库端都要验证用户名和密码，并且要为这个连接分配资源，Java程序则要把代表连接的java.sql.Connection对象加载到内存中；如果频繁的创建，断开数据库连接会影响数据库的访问效率，甚至导致数据库崩溃。因此产生数据库连接池技术，数据库连接池负责分配、管理和释放数据库连接，它允许应用程序重复使用现有的数据库连接，而不是重新建立。应用程序反问数据库时是向连接池“申请”一个Connection，如果连接池中有空闲Connection就返回，否则创建新的Connection。使用完毕Connecion后，连接池会回收，交付给其他的线程使用。</p>
</blockquote>
<p>JDBC提供javax.sql.DataSource接口，负责与数据库连接，返回Connection对象；<br>常用数据源：<strong>DBCP数据源</strong>和<strong>C3P0数据源</strong>。</p>
<h2 id="1、DBCP数据源"><a href="#1、DBCP数据源" class="headerlink" title="1、DBCP数据源"></a>1、DBCP数据源</h2><p>需要两个jar包：commons-dbcp.jar和commons-pools.jar</p>
<h2 id="2、C3P0数据源"><a href="#2、C3P0数据源" class="headerlink" title="2、C3P0数据源"></a>2、C3P0数据源</h2><h3 id="先配置c3p0-config-xml文件，放在src中"><a href="#先配置c3p0-config-xml文件，放在src中" class="headerlink" title="先配置c3p0-config.xml文件，放在src中"></a>先配置c3p0-config.xml文件，放在src中</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">c3p0-config</span>&gt;</span></span><br><span class="line">  		<span class="tag">&lt;<span class="name">default-config</span>&gt;</span></span><br><span class="line">    		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  			<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span>&gt;</span>jdbc:mysql://localhost:3308/cdooj?<span class="symbol">&amp;amp;</span>useSSL=false<span class="symbol">&amp;amp;</span>serverTimezone=UTC<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span>&gt;</span>root<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"initialPoolSize"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">   		 	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxPoolSize"</span>&gt;</span>15<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"checkoutTimeout"</span>&gt;</span>3000<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">  		<span class="tag">&lt;/<span class="name">default-config</span>&gt;</span></span><br><span class="line">  	<span class="tag">&lt;<span class="name">named-config</span> <span class="attr">name</span>=<span class="string">"otherc3p0"</span>&gt;</span> </span><br><span class="line">  	<span class="tag">&lt;/<span class="name">named-config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">c3p0-config</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="建立获得数据库连接的工具类C3p0Utils-java"><a href="#建立获得数据库连接的工具类C3p0Utils-java" class="headerlink" title="建立获得数据库连接的工具类C3p0Utils.java"></a>建立获得数据库连接的工具类C3p0Utils.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"><span class="keyword">import</span> com.mchange.v2.c3p0.ComboPooledDataSource;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">C3p0Utils</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> DataSource ds;</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		ds = <span class="keyword">new</span> ComboPooledDataSource();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DataSource <span class="title">getDateSource</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> ds;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="QueryRunner类执行SQL语句"><a href="#QueryRunner类执行SQL语句" class="headerlink" title="QueryRunner类执行SQL语句"></a>QueryRunner类执行SQL语句</h3><p><strong>BeanHandler:</strong> 将结果集中的第一行数据封装到一个对应的JavaBean实例中；<br><strong>BeanListHandler:</strong> 将结果集中每一行数据都封装到一个对应的JavaBean中，并存放到List里；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.QueryRunner;  <span class="comment">//!</span></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.handlers.BeanHandler; <span class="comment">//!</span></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.handlers.BeanListHandler; <span class="comment">//!</span></span><br><span class="line"><span class="keyword">import</span> object.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">userDao</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> User <span class="title">findOne</span><span class="params">(String username)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">		QueryRunner runner = <span class="keyword">new</span> QueryRunner(userUtils.getDataSource());</span><br><span class="line">		String sql=<span class="string">"select * from users where username=?"</span>;</span><br><span class="line">		User user=(User)runner.query(sql, new BeanHandler(User.class),new Object[] &#123;username&#125;);</span><br><span class="line">		<span class="keyword">return</span> user;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> List <span class="title">findAll</span><span class="params">()</span>throw SQLException</span>&#123;</span><br><span class="line">		QueryRunner runner = <span class="keyword">new</span> QueryRunner(C3P0Utils.getDataSource());</span><br><span class="line">		String sql = “select * from users”;</span><br><span class="line">		List list = (List) runner.query(sql,<span class="keyword">new</span> BeanListHandler(User<span class="class">.<span class="keyword">class</span>))</span>;</span><br><span class="line">		<span class="keyword">return</span> list;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">insert</span><span class="params">(User user)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">		QueryRunner runner = <span class="keyword">new</span> QueryRunner(userUtils.getDataSource());</span><br><span class="line">		String sql=<span class="string">"insert into users(username,password,nickname,gender,school,email,tnum,qset) values (?,?,?,?,?,?,?,?)"</span>;</span><br><span class="line">		<span class="keyword">int</span> num=runner.update(sql,<span class="keyword">new</span> Object[] &#123;user.getUsername(),user.getPassword(),user.getNickname(),user.getGender(),user.getSchool(),user.getEmail(),user.getTnum(),user.getQset()&#125;);</span><br><span class="line">		<span class="keyword">if</span>(num&gt;<span class="number">0</span>)</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">update</span><span class="params">(User user)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">		QueryRunner runner = <span class="keyword">new</span> QueryRunner(userUtils.getDataSource());</span><br><span class="line">		String sql=<span class="string">"update users set tnum=?,qset=? where username=?"</span>;</span><br><span class="line">		<span class="keyword">int</span> num=runner.update(sql, <span class="keyword">new</span> Object[] &#123;user.getTnum(),user.getQset(),user.getUsername()&#125;);</span><br><span class="line">		<span class="keyword">if</span>(num&gt;<span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> Boolean <span class="title">delete</span><span class="params">(<span class="keyword">int</span> id)</span><span class="keyword">throws</span> SQLException</span>&#123;</span><br><span class="line">		QueryRunner runner = <span class="keyword">new</span> QueryRunner(C3p0Utils.getDataSource());</span><br><span class="line">		String sql = “delete from users where id=?”;</span><br><span class="line">		<span class="keyword">int</span> num = runner.update(sql,id);</span><br><span class="line">		<span class="keyword">if</span>(num&gt;<span class="number">0</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="JSP开发模型"><a href="#JSP开发模型" class="headerlink" title="JSP开发模型"></a>JSP开发模型</h1><h2 id="JSP-Model1"><a href="#JSP-Model1" class="headerlink" title="JSP Model1"></a>JSP Model1</h2><p>JSP Model1采用<strong>JSP+JavaBean</strong>的技术，将页面显示和业务逻辑分开。其中，JSP实现流程控制和页面显示，JavaBean封装数据和业务逻辑。</p>
<h2 id="JSP-Model2"><a href="#JSP-Model2" class="headerlink" title="JSP Model2"></a>JSP Model2</h2><p>JSP Model2架构模型采用JSP+Servlet+JavaBean的技术，实际上就是MVC设计模式（模型Model-视图View=控制器Controller）</p>
<h2 id="MVC设计模式"><a href="#MVC设计模式" class="headerlink" title="MVC设计模式"></a>MVC设计模式</h2><h3 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h3><p>封装程序内部的数据状态，封装业务处理方法，内部状态改变通知视图</p>
<h3 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h3><p>显示模型中的数据，接收模型的数据更新通知，将用户操作传递给控制器</p>
<h3 id="控制器"><a href="#控制器" class="headerlink" title="控制器"></a>控制器</h3><p>接收用户的操作，调用模型的业务处理方法，选择响应用户操作的视图</p>

    </div>

    
    
    
	<div>
	  
       <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div>
    
</div>

      
	</div>
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>YoRo
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://birdyoro.github.io/2020/01/24/JSP-final/" title="Java Web期末总结">https://birdyoro.github.io/2020/01/24/JSP-final/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/JSP/" rel="tag"> <i class="fa fa-tag"></i> # JSP</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/12/26/JSP-ks/" rel="prev" title="JSP 课程设计">
      <i class="fa fa-chevron-left"></i> JSP 课程设计
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/01/24/life-2020-1-24/" rel="next" title="2020_0x01">
      2020_0x01 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>
		
      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#HTTP协议的传输方式"><span class="nav-number">1.</span> <span class="nav-text">HTTP协议的传输方式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#请求和响应"><span class="nav-number">2.</span> <span class="nav-text">请求和响应</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Response对象的方法"><span class="nav-number">2.1.</span> <span class="nav-text">Response对象的方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#getOutputStream-amp-getWriter-方法"><span class="nav-number">2.1.1.</span> <span class="nav-text">getOutputStream() &amp; getWriter()方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#setHeader用来设置响应头字段"><span class="nav-number">2.1.2.</span> <span class="nav-text">setHeader用来设置响应头字段</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#解决中文乱码"><span class="nav-number">2.1.2.1.</span> <span class="nav-text">解决中文乱码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#刷新跳转"><span class="nav-number">2.1.2.2.</span> <span class="nav-text">刷新跳转</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#请求重定向"><span class="nav-number">2.1.3.</span> <span class="nav-text">请求重定向</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Request对象的方法"><span class="nav-number">2.2.</span> <span class="nav-text">Request对象的方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#利用Referer请求头防止“盗链”（p130）"><span class="nav-number">2.2.1.</span> <span class="nav-text">利用Referer请求头防止“盗链”（p130）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#获取请求参数"><span class="nav-number">2.2.2.</span> <span class="nav-text">获取请求参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#解决请求中文乱码"><span class="nav-number">2.2.3.</span> <span class="nav-text">解决请求中文乱码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#public-void-setAttribute-java-lang-String-name-java-lang-Object-o"><span class="nav-number">2.2.4.</span> <span class="nav-text">public void setAttribute(java.lang.String name,java.lang.Object o);</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#请求转发"><span class="nav-number">2.2.5.</span> <span class="nav-text">请求转发</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#RequestDispatcher接口的方法"><span class="nav-number">2.2.5.1.</span> <span class="nav-text">RequestDispatcher接口的方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#请求转发与重定向"><span class="nav-number">2.2.6.</span> <span class="nav-text">请求转发与重定向</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#会话"><span class="nav-number">3.</span> <span class="nav-text">会话</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Cookie"><span class="nav-number">3.1.</span> <span class="nav-text">Cookie</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Cookie的常用方法"><span class="nav-number">3.1.1.</span> <span class="nav-text">Cookie的常用方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Session"><span class="nav-number">3.2.</span> <span class="nav-text">Session</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HttpSession方法"><span class="nav-number">3.2.1.</span> <span class="nav-text">HttpSession方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JSP"><span class="nav-number">4.</span> <span class="nav-text">JSP</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#JSP运行原理"><span class="nav-number">4.1.</span> <span class="nav-text">JSP运行原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSP基本语法"><span class="nav-number">4.2.</span> <span class="nav-text">JSP基本语法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSP内置对象"><span class="nav-number">4.3.</span> <span class="nav-text">JSP内置对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSP指令"><span class="nav-number">4.4.</span> <span class="nav-text">JSP指令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#page指令"><span class="nav-number">4.4.1.</span> <span class="nav-text">page指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#include指令"><span class="nav-number">4.4.2.</span> <span class="nav-text">include指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#out对象"><span class="nav-number">4.4.3.</span> <span class="nav-text">out对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#lt-jsp-forward-page-“relativeURL”-gt"><span class="nav-number">4.4.4.</span> <span class="nav-text">&lt;jsp:forward page&#x3D;“relativeURL”&gt;</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JavaBean"><span class="nav-number">5.</span> <span class="nav-text">JavaBean</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#EL表达式"><span class="nav-number">6.</span> <span class="nav-text">EL表达式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JSTL"><span class="nav-number">7.</span> <span class="nav-text">JSTL</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#设置变量"><span class="nav-number">7.0.1.</span> <span class="nav-text">设置变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#if语句"><span class="nav-number">7.0.2.</span> <span class="nav-text">if语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#多重选择"><span class="nav-number">7.0.3.</span> <span class="nav-text">多重选择</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#循环"><span class="nav-number">7.0.4.</span> <span class="nav-text">循环</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Filter-过滤器"><span class="nav-number">8.</span> <span class="nav-text">Filter 过滤器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Filter接口的方法"><span class="nav-number">8.1.</span> <span class="nav-text">Filter接口的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#xml配置"><span class="nav-number">8.2.</span> <span class="nav-text">xml配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#FIlter链"><span class="nav-number">8.2.1.</span> <span class="nav-text">FIlter链</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Listener监听器"><span class="nav-number">9.</span> <span class="nav-text">Listener监听器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JDBC"><span class="nav-number">10.</span> <span class="nav-text">JDBC</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#数据库操作过程："><span class="nav-number">10.1.</span> <span class="nav-text">数据库操作过程：</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#建立数据库连接及释放连接"><span class="nav-number">10.1.1.</span> <span class="nav-text">建立数据库连接及释放连接</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#增"><span class="nav-number">10.1.2.</span> <span class="nav-text">增</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#查"><span class="nav-number">10.1.3.</span> <span class="nav-text">查</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#删"><span class="nav-number">10.1.4.</span> <span class="nav-text">删</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#改"><span class="nav-number">10.1.5.</span> <span class="nav-text">改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Java获得时间，与MySQL-的DATE对应"><span class="nav-number">10.1.6.</span> <span class="nav-text">Java获得时间，与MySQL 的DATE对应</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据库连接池"><span class="nav-number">11.</span> <span class="nav-text">数据库连接池</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1、DBCP数据源"><span class="nav-number">11.1.</span> <span class="nav-text">1、DBCP数据源</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2、C3P0数据源"><span class="nav-number">11.2.</span> <span class="nav-text">2、C3P0数据源</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#先配置c3p0-config-xml文件，放在src中"><span class="nav-number">11.2.1.</span> <span class="nav-text">先配置c3p0-config.xml文件，放在src中</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#建立获得数据库连接的工具类C3p0Utils-java"><span class="nav-number">11.2.2.</span> <span class="nav-text">建立获得数据库连接的工具类C3p0Utils.java</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#QueryRunner类执行SQL语句"><span class="nav-number">11.2.3.</span> <span class="nav-text">QueryRunner类执行SQL语句</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JSP开发模型"><span class="nav-number">12.</span> <span class="nav-text">JSP开发模型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#JSP-Model1"><span class="nav-number">12.1.</span> <span class="nav-text">JSP Model1</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSP-Model2"><span class="nav-number">12.2.</span> <span class="nav-text">JSP Model2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MVC设计模式"><span class="nav-number">12.3.</span> <span class="nav-text">MVC设计模式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#模型"><span class="nav-number">12.3.1.</span> <span class="nav-text">模型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#视图"><span class="nav-number">12.3.2.</span> <span class="nav-text">视图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#控制器"><span class="nav-number">12.3.3.</span> <span class="nav-text">控制器</span></a></li></ol></li></ol></li></ol></div>
      </div>
	  
	  <!-- diy -->
	  <div id="music163player">
       <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1358226398&auto=1&height=66"></iframe>
	  </div>

      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="YoRo"
      src="/images/author.jpg">
  <p class="site-author-name" itemprop="name">YoRo</p>
  <div class="site-description" itemprop="description">一点浩然气，千里快哉风</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">21</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/birdYoRo" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;birdYoRo" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:1411715797@qq.com" title="E-Mail → mailto:1411715797@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/yw2018" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;yw2018" rel="noopener" target="_blank"><i class="fa fa-fw fa-crosshairs"></i>CSDN</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">YoRo</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    <span title="站点总字数">131k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">1:59</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,0' opacity='0.5' zIndex='-1' count='150' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
